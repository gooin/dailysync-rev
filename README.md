# ä½³æ˜è¿åŠ¨æ•°æ®åŒæ­¥ä¸é‡‡é›†å·¥å…·



![workflow](./assets/workflow.png)

<a style="display:inline-block;background-color:#FC5200;color:#fff;padding:5px 10px 5px 30px;font-size:11px;font-family:Helvetica, Arial, sans-serif;white-space:nowrap;text-decoration:none;background-repeat:no-repeat;background-position:10px center;border-radius:3px;background-image:url('https://badges.strava.com/logo-strava-echelon.png')" href='https://strava.com/athletes/84396978' target="_clean">
  å…³æ³¨ä½œè€…Strava
  <img src='https://badges.strava.com/logo-strava.png' alt='Strava' style='margin-left:2px;vertical-align:text-bottom' height=13 width=51 />
</a>



[![](https://img.shields.io/badge/-Telegram-%2326A5E4?style=flat-square&logo=telegram&logoColor=ffffff)](https://t.me/garmindailysync)



## æœ¬åœ°è¿è¡Œæ–¹æ¡ˆ
é¦–å…ˆç¡®ä¿è¿è¡Œæ­¤è„šæœ¬çš„æœºå™¨èƒ½å¤Ÿè®¿é—®å›½é™…äº’è”ç½‘, å¦‚å›½å¤–VPSã€å®¶åº­å…¨å±€ç§‘å­¦çš„ç¯å¢ƒç­‰ï¼Œ å¦åˆ™æ— æ³•æ­£å¸¸ç™»å½•ä½³æ˜å›½é™…åŒº

## æ£€æŸ¥ç½‘ç»œæƒ…å†µç¡®ä¿æ­£å¸¸è®¿é—®ä½³æ˜æœåŠ¡

### æµ‹è¯•å›½é™…äº’è”ç½‘ä¸ä½³æ˜å›½é™…åŒºç½‘ç»œè¿é€šæ€§
```shell
ping google.com
ping sso.garmin.com
```
æ‰§è¡Œåç¡®ä¿èƒ½åƒå¦‚ä¸‹æ˜¾ç¤ºå†è¿›è¡Œä¸‹é¢æ­¥éª¤ï¼Œå¦åˆ™è¯·æ£€æŸ¥ç½‘ç»œç¯å¢ƒï¼ˆå‘½ä»¤è¡Œä¹Ÿéœ€è¦èƒ½è®¿é—®å›½é™…äº’è”ç½‘, å¦‚æœgoogleåœ¨æµè§ˆå™¨èƒ½æ­£å¸¸è®¿é—®ï¼Œä½†æ˜¯å‘½ä»¤è¡Œæ— æ³•pingé€šï¼Œgoogleæœç´¢å…³é”®è¯â€œå‘½ä»¤è¡Œç¿»å¢™â€ï¼Œå‚è€ƒé…ç½®ä¸€ä¸‹é‡è¯•ï¼‰
```shell
root@home:~# ping sso.garmin.com
PING sso.garmin.com.cdn.cloudflare.net (104.17.113.66) 56(84) bytes of data.
64 bytes from 104.17.113.66 (104.17.113.66): icmp_seq=1 ttl=63 time=1.92 ms
64 bytes from 104.17.113.66 (104.17.113.66): icmp_seq=2 ttl=63 time=1.27 ms
64 bytes from 104.17.113.66 (104.17.113.66): icmp_seq=3 ttl=63 time=2.43 ms

--- sso.garmin.com.cdn.cloudflare.net ping statistics ---

```
### æµ‹è¯•ä¸­å›½åŒºç½‘ç»œè¿é€šæ€§
```shell
ping sso.garmin.cn
```
```shell
root@home:~# ping sso.garmin.cn
PING sso.garmin.cn (61.150.74.194) 56(84) bytes of data.
64 bytes from 61.150.74.194: icmp_seq=1 ttl=63 time=1.69 ms
64 bytes from 61.150.74.194: icmp_seq=2 ttl=63 time=2.77 ms
64 bytes from 61.150.74.194: icmp_seq=3 ttl=63 time=7.12 ms

--- sso.garmin.cn ping statistics ---

```


### å®‰è£… `NodeJS`

ä¸‹è½½åœ°å€ [https://nodejs.org/en/](https://nodejs.org/en/)
### å¼€å¯ `yarn` 

`NodeJS` å®‰è£…å®Œæ¯•åï¼Œæ–°æ‰“å¼€ä¸€ä¸ªç®¡ç†å‘˜å‘½ä»¤è¡Œçª—å£ï¼Œ è¾“å…¥å‘½ä»¤æ‰§è¡Œ

```shell
corepack enable
```

### å®‰è£…ä¾èµ–
åœ¨`README.md`åŒçº§ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œï¼Œæ‰§è¡Œ

Windowsåœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ‰“å¼€è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œåœ¨åœ°å€æ è¾“å…¥ `cmd` ç„¶åå›è½¦ï¼Œå³å¯æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿™ä¸ªæ­¥éª¤ä¸éœ€è¦ç®¡ç†å‘˜æƒé™

```shell
yarn
```
### å¡«å…¥è´¦å·å¯†ç 
æ‰“å¼€ `src/constant.ts`,
å¡«å…¥æ‚¨çš„ä½³æ˜è´¦å·åŠå¯†ç 

### è¿è¡Œè„šæœ¬
æ³¨æ„ï¼š å¦‚æœæ‰§è¡Œä¸èƒ½æˆåŠŸï¼Œè¯·å°è¯•å°†æ¢¯å­æ›´æ¢ä¸ºç¾å›½IPï¼Œå¤šæ›´æ¢å‡ ä¸ªipè¯•è¯•

åŒæ­¥ä¸­å›½åŒºåˆ°å›½é™…åŒº
```shell
yarn sync_cn
```
åŒæ­¥å›½é™…åŒºåˆ°ä¸­å›½åŒº
```shell
yarn sync_global
```
#### å¸¸è§é—®é¢˜

å¦‚æœä¸Šé¢pingéƒ½æ­£å¸¸ï¼Œå´ä»ç„¶ä¸èƒ½æ­£å¸¸è¿è¡Œï¼Œè¯·å°è¯•å°†æ¢¯å­æ›´æ¢ä¸ºç¾å›½IP

## å®šæ—¶ä»»åŠ¡(Linux Only)
ä¸Šé¢æ‰‹åŠ¨æ‰§è¡Œåç§°æˆåŠŸè¿ç§»åï¼Œå¯ä»¥æ·»åŠ å®šæ—¶ä»»åŠ¡æ¥è‡ªåŠ¨æ‰§è¡Œ

`crontab -e` æ‰“å¼€å®šæ—¶ä»»åŠ¡ç¼–è¾‘ï¼ŒæŒ‰éœ€æ·»åŠ ï¼š 

### æ¯10åˆ†é’Ÿæ£€æŸ¥å¹¶åŒæ­¥å›½é™…åŒºåˆ°ä¸­å›½åŒºã€å¯é€‰ã€‘
```cron
*/10 * * * * yarn --cwd /home/root/code/DailySync/ sync_global
```
### æ¯10åˆ†é’Ÿæ£€æŸ¥å¹¶åŒæ­¥ä¸­å›½åŒºåˆ°å›½é™…åŒºã€å¯é€‰ã€‘
```cron
*/10 * * * * yarn --cwd /home/root/code/DailySync/ sync_cn
```
å…¶ä¸­ `/home/root/code/DailySync/`ä¸ºè„šæœ¬åœ¨æœºå™¨ä¸Šçš„ç›®å½•åœ°å€ï¼Œæ›´æ¢ä¸ºæ‚¨æœºå™¨ä¸Šçš„ç›®å½•å³å¯

### ä¿®æ”¹å®šæ—¶ä»»åŠ¡æ‰§è¡Œé¢‘ç‡
å½“å‰ä¸º `*/10 * * * *` æ¯ 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡

æ‚¨å¯ä»¥æŒ‰éœ€ä¿®æ”¹ï¼Œ å‚è€ƒç½‘å€ [https://crontab.guru/examples.html](https://crontab.guru/examples.html)

åˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„ï¼š

æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š `0 * * * *`

æ¯6å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š `0 */6 * * *`

æ¯12å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š `0 */12 * * *`


------------


**è‡ªåŠ¨ å®‰å…¨ çœå¿ƒ**

**å¦‚æœçœ‹ä¸åˆ°æ­¤æ–‡æ¡£çš„å›¾ç‰‡ï¼Œè¯·ç§»æ­¥ [çŸ¥ä¹é“¾æ¥](https://zhuanlan.zhihu.com/p/543799435)**

æ­¤å·¥å…·å®ç°äº†ä½³æ˜è¿åŠ¨æ´»åŠ¨æ•°æ®ï¼ˆç”Ÿç†æ•°æ®å¦‚ç¡çœ ï¼Œèº«ä½“ç”µé‡ï¼Œ**æ­¥æ•°**
ç­‰é™¤å¤–ï¼‰çš„ä¸€æ¬¡æ€§è¿ç§»ä¸æ—¥å¸¸è¿åŠ¨æ•°æ®åŒæ­¥ï¼Œå®ç°åŒæ­¥è¿åŠ¨æ•°æ®åˆ°åˆ°Strava [Stravaå…¨çƒçƒ­å›¾](https://www.strava.com/heatmap) ã€‚ é¢å¤–è¿˜å®ç°äº†RQæ•°æ®é‡‡é›†è®°å½•è·‘åŠ›çš„é•¿æœŸè¶‹åŠ¿åŠè‡ªåŠ¨ç­¾åˆ°ã€‚

## åŠŸèƒ½

### è¿ç§»æ•°æ®

- æ”¯æŒä½³æ˜è´¦å·ä¸­å·²æœ‰çš„è¿åŠ¨æ•°æ®ä»ä¸­å›½åŒºä¸€æ¬¡æ€§è¿ç§»åˆ°å›½é™…åŒºã€‚å¯¹åº” `Action`: `Migrate Garmin CN to Garmin Global`
- æ”¯æŒä½³æ˜è´¦å·ä¸­å·²æœ‰çš„è¿åŠ¨æ•°æ®ä»å›½é™…åŒºä¸€æ¬¡æ€§è¿ç§»åˆ°ä¸­å›½åŒºã€‚å¯¹åº” `Action`: `Migrate Garmin Global to Garmin CN`

### åŒæ­¥æ•°æ®

- çº¦æ¯20åˆ†é’Ÿå·¦å³æ£€æŸ¥å½“å‰ä¸­å›½åŒºè´¦å·ä¸­æ˜¯å¦æœ‰æ–°çš„è¿åŠ¨æ•°æ®ï¼Œå¦‚æœ‰åˆ™è‡ªåŠ¨ä¸‹è½½ä¸Šä¼ åˆ°å›½é™…åŒºï¼Œå¹¶åŒæ­¥åˆ°Stravaã€‚ å¯¹åº” `Action`: `Sync Garmin CN to Garmin Global`
- å¦‚æœæ‚¨å¸¸ç”¨çš„æ˜¯å›½é™…åŒºï¼Œæƒ³è¦åœ¨å›½å†…è¿åŠ¨è½¯ä»¶ï¼ˆæ‚¦è·‘åœˆ/å’•å’š/keep/éƒé‡‘é¦™ç­‰ç­‰ï¼‰åŒæ­¥è¿åŠ¨æ•°æ®åŠå¾®ä¿¡è¿åŠ¨ä¸­æ˜¾ç¤º ã€Garminæ‰‹è¡¨ éª‘è¡Œxxåˆ†é’Ÿã€‘ï¼ˆ[å¾®ä¿¡è¿åŠ¨æ•ˆæœ](./assets/wx_sport.jpg)ï¼‰
  æ­¤å·¥å…·å¯ä»¥å®ç°è‡ªåŠ¨åå‘åŒæ­¥ä¸­å›½åŒºã€‚ å¯¹åº” `Action`: `Sync Garmin Global to Garmin CN`
  - å¾®ä¿¡æ­¥æ•°åŒæ­¥ï¼š
    - `iOS`: ä½³æ˜çˆ±è¿åŠ¨å°ç¨‹åºç»‘å®šåï¼Œå›½é™…åŒº->ä¸­å›½åŒºåŒæ­¥ä»…èƒ½åŒæ­¥æ´»åŠ¨æ•°æ®ã€‚å‡ºå»è¿åŠ¨ä¸å¸¦æ‰‹æœºçš„è¯ï¼Œæ­¥æ•°ä¼šè®°å½•åœ¨æ‰‹è¡¨ä¸­ï¼Œæ´»åŠ¨åŒæ­¥åï¼Œ`Connect`ä¼šå°†æ­¥æ•°ä¸Šä¼ åˆ°`å¥åº·` App ä¸­ï¼Œå¾®ä¿¡ä¸å¥åº·åº”ç”¨é“¾æ¥ï¼Œå³å¯åœ¨å¾®ä¿¡è¿åŠ¨ä¸­çœ‹åˆ°æ­¥æ•°ã€‚
    - `Android`: æš‚æ— å¯è¡Œæ–¹æ³•ã€‚
- å¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œå¼ºçƒˆå»ºè®®ä¸è¦å°†ä¸¤ä¸ªåŒæ­¥è„šæœ¬åŒæ—¶æ‰“å¼€ï¼ŒæŒ‰éœ€å¼€å¯ä¸€ä¸ªå³å¯ï¼ 

### é‡‡é›†æ•°æ®

- é‡‡é›†RQç»Ÿè®¡æ•°æ®åˆ°GoogleSheetsï¼Œè®°å½•è·‘åŠ›çš„é•¿æœŸè¶‹åŠ¿ã€‚å‚è§ï¼š [RQæ•°æ®é‡‡é›†åˆ°GoogleSheetsæ•™ç¨‹](RQ_GoogleSheets.md)
- RQè‡ªåŠ¨ç­¾åˆ°ã€‚å‚è§ï¼š[RQè‡ªåŠ¨ç­¾åˆ°](RQ_Sign.md)

## è¯´æ˜

#### å…è´£å£°æ˜ï¼š

æœ¬å·¥å…·ä»…é™ç”¨äºå­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºå•†ä¸šæˆ–è€…éæ³•ç”¨é€”ã€‚å¦‚æœ‰ä»»ä½•é—®é¢˜å¯è”ç³»æœ¬äººåˆ é™¤ã€‚

#### è´¦å·å®‰å…¨ï¼š

è´¦å·åŠå¯†ç ä¿å­˜åœ¨è‡ªå·±çš„ `github secrets` ä¸­ï¼Œä¸ä¼šæ³„éœ²ï¼Œè¿è¡Œä»£ç å‡ **å¼€æ”¾æºç **ï¼Œæ¬¢è¿æäº¤`PR`ã€‚

#### è¿›ç¾¤è®¨è®º

**å› è„šæœ¬åŸç†ä¸ºæ¨¡æ‹Ÿç”¨æˆ·ç™»å½•è¿›è¡Œæ“ä½œï¼Œä½³æ˜æœåŠ¡æœ‰æ”¹åŠ¨å°±ä¼šå¯¼è‡´è„šæœ¬å¤±æ•ˆï¼Œä¸ºä¸å½±å“æ‚¨çš„æ•°æ®åŒæ­¥ï¼Œå¼ºçƒˆå»ºè®®æ‚¨åŠ ç¾¤ç¡®ä¿é‡åˆ°é—®é¢˜èƒ½å¤ŸåŠæ—¶äº†ç»“åŠè§£å†³ã€‚æœç´¢ç»¿è‰²è½¯ä»¶è´¦å·ï¼š`nononopass` ï¼ˆ[äºŒç»´ç æ‰«ç ](./assets/wechat_qr.png)ï¼‰ æˆ‘æ‹‰ä½ è¿›ç¾¤ã€‚**

#### æ”¯æŒä½œè€…

å¦‚æœå¸®åŠ©åˆ°äº†ä½ ï¼Œå¯ä»¥ [Buy Me a Coffee](#buy-me-a-coffee)ï¼ŒèµåŠ©è€…ä¼šåœ¨æ–‡ç« ä¸‹æ–¹ç•™ä¸‹IDè¡¨ç¤ºæ„Ÿè°¢ğŸ™ã€‚

#### å…³é”®æ›´æ–°æ—¥å¿—

- 2022-10-11ï¼šä½³æ˜æœåŠ¡å™¨æŠ½é£ï¼Œéœ€è¦é‡ç½®å¯†ç æ‰èƒ½ç»§ç»­ä½¿ç”¨è´¦å·

> è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼Œå¦å¤–å¯¹ä»£ç ä¹Ÿè¿›è¡Œäº†ä¼˜åŒ–ï¼Œå°†ç™»å½•ä¿¡æ¯åŠ å¯†å­˜å‚¨å¤ç”¨ï¼Œä¸å¿…æ¯æ¬¡æ‰§è¡ŒåŒæ­¥ä»»åŠ¡éƒ½ç™»å½•ä¸€æ¬¡ï¼Œæ‰€ä»¥éœ€è¦æ–°å¢ä¸€æ¡secretsï¼Œè§ä¸‹é¢è§£å†³æ–¹æ³•ã€‚

```
æœ€è¿‘å¦‚æœæ”¶åˆ°æ¥è‡ªä½³æ˜é‡ç½®å¯†ç çš„é‚®ä»¶ï¼ˆå›½é™…åŒºï¼‰/çŸ­ä¿¡ï¼ˆä¸­å›½åŒºï¼‰ï¼Œè¯·æŒ‰ç…§å¦‚ä¸‹æ–¹å¼æ“ä½œä¸€ä¸‹ï¼ˆæ²¡æ”¶åˆ°å¯ä»¥å…ˆä¸ç®¡ï¼Œä¹Ÿæœ‰å¯èƒ½ä»…æ”¶åˆ°å›½é™…åŒºçš„é‚®ä»¶ï¼Œå¦‚æœæ”¶åˆ°å°±é‡ç½®å¯¹åº”åŒºçš„å¯†ç ï¼‰ï¼š
1ã€ç™»å½•ConnectWebé¡µé¢ï¼šå›½é™…åŒºï¼šhttps://connect.garmin.com/modern/  ä¸­å›½åŒºï¼šhttps://connect.garmin.cn/modern
2ã€ç„¶åç”¨é‚®ç®±æ”¶åˆ°çš„ä¸´æ—¶å¯†ç ç™»å½•ï¼Œé‡ç½®å¯†ç ï¼Œé‡ç½®å¯†ç å¯ä»¥å’ŒåŸæ¥å¯†ç ç›¸åŒï¼Œä½†æ˜¯ä¸ºäº†å®‰å…¨è¿˜æ˜¯å»ºè®®æ‚¨æ›´æ¢ä¸€ä¸ªæ–°å¯†ç 
3ã€å¦‚æœæ‚¨åœ¨ç¬¬2æ­¥æ›´æ¢äº†æ–°å¯†ç ï¼Œåœ¨Githubçš„secretsä¸­æ›´æ–° GARMIN_GLOBAL_PASSWORD çš„å€¼ä¸ºå›½é™…åŒºæ–°å¯†ç ï¼ŒGARMIN_PASSWORD çš„å€¼ä¸ºä¸­å›½åŒºæ–°å¯†ç 
4ã€æ›´æ–°ä»£ç ï¼Œæ–¹æ³•è§æ–‡æ¡£FAQ
5ã€åœ¨Githubçš„secretsä¸­æ–°å¢ä¸€æ¡è®°å½•ï¼Œåç§° AESKEY ,å†…å®¹ä¸ºä»»æ„å°äº32ä½é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œç”¨äºåŠ å¯†è´¦å·ç™»å½•ä¿¡æ¯ï¼Œä¸¾ä¾‹ï¼ˆä¸è¦å¤åˆ¶ä½¿ç”¨ï¼‰ï¼šKAD1JLA12SKDJLASDJ
```


- 2022-09-01: æ–°å¢æ”¯æŒå›½é™…åŒºåŒæ­¥æ–°æ•°æ®åˆ°ä¸­å›½åŒº
  - æ–°å¢ä¸€ä¸ª`action`ï¼š`Sync Garmin Global to Garmin CN`ï¼Œå¼€å¯åè‡ªåŠ¨æ‰§è¡Œã€‚ä¸åŒæ­¥ä¸­å›½åŒºåˆ°å›½é™…åŒºæ“ä½œä¸€è‡´ã€‚
- 2022-08-07: æ”¯æŒå›½é™…åŒºè¿ç§»æ•°æ®åˆ°ä¸­å›½åŒº
  - æ–°å¢ä¸€ä¸ª`action`ï¼š`Migrate Garmin Global to Garmin CN`ï¼Œæ‰‹åŠ¨æ‰§è¡Œã€‚ä¸è¿ç§»ä¸­å›½åŒºåˆ°å›½é™…åŒºæ“ä½œä¸€è‡´ã€‚
- 2022-06-15: å¢åŠ ä½³æ˜ä¸­å›½åŒºè¿ç§»åŠåŒæ­¥å›½é™…åŒºæ•°æ®åŠŸèƒ½ï¼ŒåŒæ­¥ `strava`
- 2022-06-06: é‡‡é›†`RQ`ç»Ÿè®¡æ•°æ®åˆ°`Google Sheets`

<details>
<summary>

#### åœ¨ç”¨è¿™ä¸ªå·¥å…·çš„å¤§ä½¬ä»¬(é™¤äº†ä½œè€…)æ¬¢è¿ç‚¹è¿›é“¾æ¥åŠ åŠ å¥½å‹~(ç‚¹å‡»å±•å¼€) ï¼ˆ[å¡«å†™æ‚¨çš„é“¾æ¥](https://wj.qq.com/s2/10633783/a1ef/)ï¼‰

</summary>

| åç§°            | Stravaè¿åŠ¨å‘˜é“¾æ¥                                   |           |
|:--------------|:----------------------------------------------|:----------|
| Zhitao Yan    | https://www.strava.com/athletes/84396978      | â€ğŸ’»Author |
| Clown jiang   | https://www.strava.com/athletes/105952743     | âœ¨Sponsor  |
| è€å¼Ÿ            | https://www.strava.com/athletes/91478457      | âœ¨Sponsor  |
| Zax Wen       | https://www.strava.com/athletes/91553718      | âœ¨Sponsor  |
| æäºŒç‰›           | https://www.strava.com/athletes/43684509      | âœ¨Sponsor  |
| å›´è„–Bç«™@æˆ‘æ˜¯å†¯ç‘æ’    | https://www.strava.com/athletes/34349982      | âœ¨Sponsor  |
| åˆ˜             | https://www.strava.com/athletes/67222235      | âœ¨Sponsor  |
| ç‹¼æœ—            | https://www.strava.com/athletes/43107517      | âœ¨Sponsor  |
| å¾®é†ºæ¼‚ç§»          | https://www.strava.com/athletes/19108713      | âœ¨Sponsor  |
| hua xu        | https://www.strava.com/athletes/40855048      |           |
| L.X           | https://www.strava.com/athletes/86727066      |           |
| å§œå®            | https://www.strava.com/athletes/54001163      |           |
| jogging tiger | https://www.strava.com/athletes/105416045     |           |
| Eph           | https://www.strava.com/athletes/8376311       |           |
| YunBond       | https://www.strava.com/athletes/33650658      |           |
| ygnnbpkn      | https://www.strava.com/athletes/107433069     |           |
| HY.Dong       | https://www.strava.com/athletes/8901566       |    âœ¨Sponsor       |
| é™†å‡¡            | https://www.strava.com/athletes/48067019      |      âœ¨Sponsor     |
| JiaJian He    | https://www.strava.com/athletes/13495215      |     âœ¨Sponsor      |
| ç”Ÿå¦‚èƒ¡æ¨          | https://www.strava.com/athletes/107773658     | âœ¨Sponsor          |
| doudouhuang   | https://www.strava.com/athletes/107830101     |           |
| è§£å‡Œæ›¦           | https://www.strava.com/athletes/62080682      |   âœ¨Sponsor        |
| æ¬¢ä¹é“ä¸‰é™ˆç¨        | https://www.strava.com/athletes/107733443     |           |
| Fseeeee       | https://www.strava.com/athletes/45675087      |           |
| ç¥æœˆ            | https://www.strava.com/athletes/69135349      |           |
| æ¸…é£æ•…äºº          | https://www.strava.com/athletes/105799254     | |
| lu_yuanyuan   | https://www.strava.com/athletes/lu_yuanyuan   | |
| axiuff        | https://www.strava.com/athletes/107599333     | |
| iceirislei    | https://www.strava.com/athletes/84396978      | |
| æ±Ÿå°é±¼           | https://www.strava.com/athletes/29648564      | |
| ä½œæ¨‚            | https://www.strava.com/athletes/102557902     | |
| Ink Jiang     | https://www.strava.com/athletes/107398383     | |
| kk            | https://www.strava.com/athletes/108302326     | |
| Kailin Aogu   | https://www.strava.com/athletes/108426264     | |
| Jason         | https://www.strava.com/athletes/78018552      | |
| ä¸ƒå”uncle       | https://www.strava.com/athletes/100219084     | |
| lenmio        | https://www.strava.com/athletes/23144564      | |
| ç‹å†°            | https://www.strava.com/athletes/96827296      | |
| AndrewRen     | https://www.strava.com/athletes/47354232      | |
| æ¹–å—å´å½¦ç¥–         | https://www.strava.com/athletes/27560743      | |
| å¤ç‰æ²å¿ƒ          | https://www.strava.com/athletes/guyuqinxin    |âœ¨Sponsor |
| FLynn         | 	https://www.strava.com/athletes/103444104    | |
| herui9706     | 	https://www.strava.com/athletes/26760320     | |
| è·‘å¾—åŠ¨è·‘ä¸åŠ¨        | 	https://www.strava.com/athletes/92683851     | |
| Alexlei       | 	https://www.strava.com/athletes/85319344     | |
| Benny         | 	https://www.strava.com/athletes/106952288    | |
| æŒ–ç…¤çŒ«           | 	https://www.strava.com/athletes/108006082    | |
| è¡Œè€…é˜¿é‡Œ          | 	https://www.strava.com/athletes/107605370    | |
| è°Œé›•            | 	https://www.strava.com/athletes/100452318    | |
| ç±³æœ‰æ‰           | 	 https://www.strava.com/athletes/lu_yuanyuan | |
| æ˜Šå­LoveCoCo    | 	https://www.strava.com/athletes/11280405     | âœ¨Sponsor|
| HuangXin      | 	https://www.strava.com/athletes/105468976    | |
| DougSun       | 	https://www.strava.com/athletes/dougsun      | |
| æˆ‘æ˜¯æ¸£è·‘	         | https://www.strava.com/athletes/37057287      | |
 | å¤è’‚            | 	https://www.strava.com/athletes/68463270     | |
 | å°è„‘è…           | 	https://www.strava.com/athletes/105403238    | |
 | Winter        | 	https://www.strava.com/athletes/110758645    | |
</details>

## å¦‚ä½•ä½¿ç”¨ï¼Ÿ

è§†é¢‘æ•™ç¨‹å‚è€ƒï¼š [ä¸­å›½åŒºä½³æ˜è¿åŠ¨æ•°æ®åŒæ­¥Stravaè§†é¢‘æ•™ç¨‹](https://www.bilibili.com/video/BV1v94y1Q7oR/)

å¦‚æœæŒ‰ç…§è§†é¢‘è¿˜æ˜¯æ— æ³•è¾¾åˆ°é¢„æœŸçš„æ•ˆæœ(åŒ…æ‹¬ä½³æ˜å›½é™…åŒºç‚¹ä¸è¿›å»ï¼Œè·³è½¬åˆ°com.cnã€github æ·»åŠ  secrets æ²¡æœ‰ååº”ç­‰)ï¼Œè¯·è‡ªè¡Œè§£å†³ä¸å¯æè¿°çš„ç½‘ç»œé—®é¢˜ã€‚ å¦‚æœ`github`
ä¸Šçš„å›¾ç‰‡çœ‹ä¸åˆ°ï¼Œé‚£å¤§æ¦‚ç‡æ˜¯è¢«å¢™äº†ï¼Œçœ‹å›¾è¯·ç§»æ­¥ [çŸ¥ä¹é“¾æ¥](https://zhuanlan.zhihu.com/p/543799435), æ–‡æ¡£å†…å®¹ä»¥`github` ç‰ˆæœ¬ä¸ºå‡†ï¼Œå…¶ä»–åœ°æ–¹å¯èƒ½ä¸æ˜¯æœ€æ–°çš„ã€‚

## æ•™ç¨‹å¼€å§‹

### è¿ç§»å·²æœ‰è¿åŠ¨æ•°æ®ï¼Œå¹¶å¼€å¯è‡ªåŠ¨åŒæ­¥åŠŸèƒ½


[ä½³æ˜å›½é™…åŒºç½‘å€](https://connect.garmin.com/signin/)

[ä½³æ˜å›½åŒºç½‘å€](https://connect.garmin.cn/signin/)

[Stravaç½‘å€](https://www.strava.com/)

#### å‰ç½®æ¡ä»¶ï¼š
##### **æ³¨å†Œå¥½ä½³æ˜å›½é™…åŒºçš„å¸å·åŠStravaè´¦å·ï¼Œå¹¶å·²ç»å°†Stravaä¸ä½³æ˜å›½é™…åŒºè´¦å·å…³è”ï¼Œå¹¶å¼€å¯Stravaæ•°æ®æƒé™ï¼ˆä¸‹å›¾ï¼‰**

------
**å¦‚æœçœ‹ä¸åˆ°æ­¤æ–‡æ¡£çš„å›¾ç‰‡ï¼Œè¯·ç§»æ­¥ [çŸ¥ä¹é“¾æ¥](https://zhuanlan.zhihu.com/p/543799435)**
------

![consent](./assets/consent.png)

##### ä½³æ˜è´¦å·éšç§è®¾ç½®
å¦‚æœæ˜¯æ–°æ³¨å†Œçš„è´¦å·ï¼ŒåŒ…æ‹¬ä¸­å›½åŒºä¸å›½é™…åŒºï¼Œè¯·ç¡®ä¿è´¦å·éšç§è®¾ç½®ä¸­çš„`å­˜å‚¨å’Œå¤„ç†` æ˜¯ `åŒæ„`çŠ¶æ€ï¼Œ`è®¾å¤‡ä¸Šä¼ `æ˜¯`å·²å¯ç”¨` çŠ¶æ€(ä¸‹å›¾)
ï¼Œå¦åˆ™ä¸Šä¼ æ•°æ®ä¼šæŠ¥`412`é”™è¯¯ç ï¼š`User explicity revoked consent for uploading files.`
![connect_permission](./assets/connect_permission.png)

##### å…³é—­ä½³æ˜è´¦å·ä¸¤æ­¥éªŒè¯

å¦‚æœçš„ä½³æ˜è´¦å·åœ¨ç™»å½•ç½‘é¡µç‰ˆConnectæ—¶ï¼Œéœ€è¦å¡«å…¥éªŒè¯ç ï¼Œè¯´æ˜æ‚¨å¼€å¯äº†ä¸¤æ­¥éªŒè¯ï¼Œéœ€è¦å…³é—­æ­¤é€‰é¡¹æ‰èƒ½ä½¿ç”¨æœ¬å·¥å…·ï¼Œå¦‚æœä¸éœ€è¦éªŒè¯ç å°±èƒ½ç™»å½•ï¼Œå¯è·³è¿‡æ­¤æ­¥éª¤ã€‚

ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ï¼Œè¯·æŒ‰ç…§å›¾ä¸­è®¾ç½®å…³é—­

[https://www.garmin.cn/zh-CN/account/security/mfa](https://www.garmin.cn/zh-CN/account/security/mfa)
![mfa](./assets/mfa.jpg)

------

#### Step1: fork æ­¤å·¥ç¨‹

ç‚¹å‡»ã€Forkã€‘ï¼Œ**ä¹Ÿè¯·é¡ºæ‰‹ç‚¹ä¸€ä¸‹ã€Forkã€‘æ—è¾¹çš„ã€Starã€‘ï¼Œæ”¯æŒä¸€ä¸‹ä½œè€…** ï¼Œforkåˆ°è‡ªå·±è´¦å·ä¸‹ã€‚
![fork](./assets/fork.jpg)

#### Step2: é…ç½®å¡«å…¥è‡ªå·±çš„ä½³æ˜å›½å†…åŒºã€å›½é™…åŒºè´¦å·åŠå¯†ç 

å¦‚ä¸‹å›¾æ‰“å¼€Secretsé…ç½®ï¼Œç‚¹å‡» ã€New repository secretã€‘
![settings](./assets/settings.jpg)

å‡†å¤‡è‡ªå·±çš„å¸å·å¯†ç åŠè¦è¿ç§»çš„æ•°æ®é‡

**ä½³æ˜å›½å†…è´¦å·é‚®ç®±åœ°å€**ï¼š
`GARMIN_USERNAME`

**ä½³æ˜å›½å†…è´¦å·å¯†ç **ï¼š
`GARMIN_PASSWORD`

**ä½³æ˜å›½é™…è´¦å·é‚®ç®±åœ°å€**ï¼š
`GARMIN_GLOBAL_USERNAME`

**ä½³æ˜å›½é™…è´¦å·å¯†ç **ï¼š
`GARMIN_GLOBAL_PASSWORD`

**è¦è¿ç§»çš„æ´»åŠ¨æ•°é‡ï¼Œå…ˆå¡«1**:
`GARMIN_MIGRATE_NUM`

**ä»ç¬¬å‡ ä¸ªæ´»åŠ¨å¼€å§‹è¿ç§»ï¼Œå…ˆå¡« 0**:
`GARMIN_MIGRATE_START`


**2022-10-11æ–°å¢å¿…å¡«é¡¹ï¼š**:
`AESKEY` ä¿¡æ¯åŠ å¯†å­˜å‚¨KEYï¼Œå¯ä»¥éšæ„è¾“å…¥ä»»æ„å°äº32ä½é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œä¸¾ä¾‹ï¼ˆä¸è¦å¤åˆ¶ä½¿ç”¨ï¼‰ï¼š`KAD1JLA12SKDJLASDJ`ï¼‰

å…±è®¡7ä¸ª

![secrets](./assets/secrets.jpg)

å¡«å®Œåç¡®ä¿å¦‚ä¸‹å›¾çº¢æ¡†å†…çš„éƒ½å¡«ä¸Šäº†, çº¢æ¡†å¤–çš„ä¸ç”¨ç®¡

![secrets](./assets/secrets_ok1.png)

#### Step3: æ‰‹åŠ¨è¿ç§»å·²æœ‰æ•°æ®

å¯¹åº”çš„Actionsï¼ŒæŒ‰éœ€é€‰æ‹©è¿è¡Œ

`Migrate Garmin CN to Garmin Global(ä¸­å›½åŒºåˆ°å›½é™…åŒº)`

`Migrate Garmin Global to Garmin CNï¼ˆå›½é™…åŒºåˆ°ä¸­å›½åŒºï¼‰`

è¿™é‡Œä»¥ä¸­å›½åŒºåˆ°å›½é™…åŒºä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾ï¼Œç‚¹å‡»`Actions`--> `Migrate Garmin CN to Garmin Global(ä¸­å›½åŒºåˆ°å›½é™…åŒº)`  --> `Run workflow` æ‰§è¡Œè¿ç§»æ•°æ®
![migrate](./assets/migrate.jpg)

ç‚¹å‡»ååˆ·æ–°é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼š
![migrating](./assets/migrating.jpg)

ç‚¹è¿›å»åå¯ä»¥æŸ¥çœ‹æ—¥å¿—ï¼Œå¦‚æœ `Run yarn migrate_garmin_cn_to_global`é‚£ä¸€æ çœ‹åˆ° `Garmin userInfo CN` å’Œ `Garmin userInfo global`, å¹¶ä¸”æ•°æ®æŒç»­åœ¨æ»šåŠ¨åˆ·æ–°ï¼Œå°±è¯´æ˜æ­£å¸¸è¿è¡Œ
![test_migrate](./assets/test_migrate.png)
![log](./assets/log.jpg)

å¦‚æœä¸Šé¢ä¸€åˆ‡æ­£å¸¸ï¼Œè¿è¡Œç»“æŸåï¼Œå‰é¢ä¼šæ˜¯ä¸€ä¸ªç»¿è‰²ï¼Œä»£è¡¨è¿è¡Œå®Œæˆã€‚
![migrated](./assets/migrated.png)

è¿™ä¸ªæ—¶å€™ï¼Œå»ä½³æ˜å›½é™…åŒºå’Œ`strava`çœ‹çœ‹ï¼Œæ˜¯å¦æœ‰1æ¡æ•°æ®è¿ç§»è¿‡æ¥ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä»£è¡¨æœ‰é—®é¢˜ï¼Œè¯·è”ç³»æˆ‘å’¨è¯¢ï¼Œå¦‚æœæœ‰ï¼Œä»£è¡¨æ­£å¸¸è¿è¡Œã€‚

(è¿™ä¸€å—å¦‚æœçœ‹æ–‡å­—ä¸æ˜¯å¾ˆæ¸…æ¥šåˆ°è¯å»çœ‹çœ‹æ–‡ç« å¼€å§‹éƒ¨åˆ†çš„è§†é¢‘æ•™ç¨‹ï¼Œå‚ç…§çœ‹çœ‹)

ä¸Šé¢æ­£å¸¸çš„è¯å¼€å§‹è¿ç§»å‰©ä½™æ•°æ®

**å›åˆ° Step2 çš„åœ°æ–¹ï¼Œåˆ†åˆ«ä¿®æ”¹**

`GARMIN_MIGRATE_NUM` ä¸º `500`

`GARMIN_MIGRATE_START` ä¸º `1`

ç„¶åæŒ‰ç…§ä¸Šé¢æ‰§è¡Œè¿‡çš„æ­¥éª¤ï¼Œå‚ç…§Step3å†æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰§è¡ŒæˆåŠŸåæ£€æŸ¥ä½³æ˜å›½é™…åŒºåŠStravaä¸Šæ˜¯å¦è¿ç§»è¿‡æ¥ã€‚

æ‚¨å¯ä»¥åœ¨Stravaé¡µé¢æ ¸å¯¹æ€»çš„è¿åŠ¨è®°å½•æ•°ã€‚  [https://www.strava.com/athlete/training](https://www.strava.com/athlete/training)
![strava_activities](./assets/strava_activities.png)

å¦‚æœæ‚¨æ•°æ®è¾ƒå¤šï¼Œå¦‚å‡ åƒæ¡çš„æƒ…å†µï¼Œéœ€è¦å¤šè¿è¡Œå‡ æ¬¡ã€‚

- ä¿®æ”¹ `GARMIN_MIGRATE_START` çš„å€¼ä¸ºä¹‹å‰ç´¯è®¡çš„å€¼ `501`
- æŒ‰ç…§ `Step2` è¿è¡Œ
- å°† `GARMIN_MIGRATE_START` çš„å€¼å¢åŠ  `500`
- æŒ‰ç…§ `Step2` è¿è¡Œ ï¼Œç›´è‡³æ‰€æœ‰æ•°æ®è¿ç§»å®Œæˆ

æ‰§è¡Œè¿ç§»çš„æ—¶å€™ï¼Œè¯·ä¸è¦åœ¨webç«¯å†ç™»å½•connectè´¦å·ï¼ŒåŒæ—¶è¯·**æ‰“å¼€æ—¥å¿—è§‚å¯Ÿæ‰§è¡Œæƒ…å†µï¼Œä¸­é—´ææœ‰å¯èƒ½ä½³æ˜çš„æ¥å£å‡ºå¼‚å¸¸å¯¼è‡´ä»»åŠ¡å¤±è´¥**ï¼Œå¦‚æœé‡åˆ°å¤±è´¥çš„æƒ…å†µï¼Œæ£€æŸ¥æ—¥å¿—ï¼Œçœ‹å¤±è´¥çš„æ—¶å€™`ç›¸å¯¹æ€»æ•°`æ˜¯å¤šå°‘æ¡

```
æœ¬æ¬¡å¼€å§‹å‘å›½é™…åŒºä¸Šä¼ ç¬¬ ä¸€ æ¡æ•°æ®ï¼Œã€ç›¸å¯¹æ€»æ•°ã€‘ä¸Šä¼ åˆ° ä¸ƒé›¶ä¸€ æ¡ï¼Œ  ã€ xxå¸‚ å…¬è·¯è‡ªè¡Œè½¦ ã€‘ï¼Œå¼€å§‹äº ã€ 20xx-x-x 19:11:10 ã€‘ï¼Œæ´»åŠ¨ID: ã€ 0000000 ã€‘
upload to garmin activity {
  detailedImportResult: {
    uploadId: 155871498739,
    uploadUuid: { uuid: '0a80bfce-f94c-4ced-8fdd-8c3075032018' },
    owner: 107917164,
    fileSize: 29087,
    processingTime: 49,
    creationDate: '2022-10-01 12:51:18.931 GMT',
    ipAddress: null,
    fileName: '44055967_ACTIVITY.fit',
    report: null,
    successes: [],
    failures: []
  }
}
```

ç„¶åå°† `GARMIN_MIGRATE_START` ä¿®æ”¹ä¸ºå¤±è´¥æ—¶çš„`ç›¸å¯¹æ€»æ•°`ï¼Œæ˜¯æ•°å­—ï¼Œå¦‚`701`ï¼Œä¸æ˜¯ä¸Šè¾¹æ—¥å¿—é‡Œçš„æ–‡å­—æ•°å­—ã€‚ç„¶åé‡æ–°æ‰§è¡Œï¼Œç›´åˆ°æ‰€æœ‰æ•°æ®è¿ç§»å®Œæˆã€‚


> è¿ç§»æ•°æ®æ¯”è¾ƒæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œå®æµ‹15åˆ†é’Ÿè¿ç§»100æ¡å·¦å³

#### Step4: è‡ªåŠ¨åŒæ­¥æ–°çš„è¿åŠ¨æ•°æ®

å¯¹åº”çš„Actionsï¼ŒæŒ‰éœ€é€‰æ‹©è¿è¡Œ

`Sync Garmin CN to Garmin Global (ä¸­å›½åŒºåˆ°å›½é™…åŒº)`

`Sync Garmin Global to Garmin CNï¼ˆå›½é™…åŒºåˆ°ä¸­å›½åŒºï¼‰`

ä¸‹é¢ä»¥ä¸­å›½åŒºåˆ°å›½é™…åŒºä¸ºä¾‹

å¦‚å›¾ç‚¹å‡»å¼€å¯`workflow`
![enable_workflow](./assets/enable_workflow.jpg)

**å¼€å¯åæ— éœ€é¢å¤–é…ç½®ï¼Œé™¤æ—©ä¸Šå¤–ï¼Œå…¶ä»–æ—¶å€™å¤§çº¦æ¯30åˆ†é’Ÿå·¦å³è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡æ•°æ®ï¼Œä¸€æ®µæ—¶é—´åå¯ä»¥æŸ¥çœ‹åŒæ­¥è®°å½•.**
![sync](./assets/sync.jpg)

è‡³æ­¤ï¼Œæ‰€æœ‰å·¥ä½œå®Œæ¯•ï¼Œå¼ºçƒˆå»ºè®®é˜…è¯»å®Œä¸‹æ–¹çš„`FAQ`éƒ¨åˆ†ï¼Œæ‚¨åæœŸå¯èƒ½é‡åˆ°çš„å¤§éƒ¨åˆ†é—®é¢˜éƒ½ä¼šæœ‰è§£ç­”ã€‚

å¦‚æœæˆ‘çš„å·¥ä½œå¸®åˆ°äº†æ‚¨ï¼Œå¯ä»¥è€ƒè™‘åœ¨æœ€ä¸‹æ–¹æ‰«ç èµåŠ©æˆ‘ä¸€æ¯å’–å•¡å“¦~ 


#### FAQ:

##### æ•°æ®æ²¡æœ‰åŒæ­¥æˆåŠŸï¼Ÿ

å¯èƒ½çš„åŸå› ï¼š

1. è¯·å…ˆæ£€æŸ¥æ‰‹æœº`connect`ï¼Œç¡®ä¿è¿åŠ¨åœ¨`connect`çœ‹åˆ°æ‰èƒ½è¿›è¡Œåç»­çš„åŒæ­¥å·¥ä½œã€‚
2. å®šæ—¶æ‰§è¡Œæ²¡æœ‰æ‰§è¡Œï¼Œå¯ä»¥åƒæ‰§è¡Œ`MIGRATE`é‚£æ ·æ‰‹åŠ¨æ‰§è¡Œ`Sync Garmin CN to Garmin Global (ä¸­å›½åŒºåˆ°å›½é™…åŒº)`æˆ–è€…`Sync Garmin Global to Garmin CNï¼ˆå›½é™…åŒºåˆ°ä¸­å›½åŒºï¼‰` æ¥æ‰‹åŠ¨è§¦å‘åŒæ­¥ã€‚å¯ä»¥å°†Githubçš„åœ°å€åœ¨æ‰‹æœºä¸Šå­˜ä¸ªä¹¦ç­¾ï¼Œè¿åŠ¨å®Œæ‰‹åŠ¨è¿è¡Œä¸€ä¸‹`Sync`å°±èƒ½ç«‹åˆ»åŒæ­¥äº†ã€‚
3. æ£€æŸ¥ä½³æ˜æœåŠ¡å™¨çŠ¶æ€ [https://connect.garmin.com/status](https://connect.garmin.com/status)

##### æ•°æ®åŒæ­¥ä¸ºä»€ä¹ˆæ²¡æœ‰æŒ‰è®¡åˆ’æ‰§è¡Œï¼Œæœ‰çš„æ—¶å€™ä¸€å°æ—¶æ‰æ‰§è¡Œäº†2æ¬¡ï¼Ÿ

å‚è€ƒï¼š [Schedule every 5 mins but runs a bit randomly](https://github.community/t/schedule-every-5-mins-but-runs-a-bit-randomly/159355/2)

åŸå› ï¼š githubçš„å®šæ—¶è®¡åˆ’ä»»åŠ¡ä»¥å°½åŠ›è€Œä¸ºçš„ç­–ç•¥è¿è¡Œã€‚

**æˆ‘ä»£ç ä¸­å†™çš„æ˜¯æ¯10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œå®é™…æƒ…å†µæ˜¯å¤§çº¦æ¯20åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚**

å°¤å…¶æ˜¯æ—©ä¸Š8ç‚¹å·¦å³ï¼Œå‡ ä¹éƒ½ä¼šå»¶è¿Ÿå¾ˆä¹…æ‰§è¡Œï¼ŒåŸå› æ˜¯å¤§æ¦‚æˆ‘ä»¬8ç‚¹å¯¹åº”ç¾å›½0ç‚¹ï¼Œå…¶ä»–å¾ˆå¤šç¨‹åºçš„å®šæ—¶ä»»åŠ¡åœ¨0ç‚¹æ‰§è¡Œï¼Œå¯¼è‡´æˆ‘ä»¬çš„ä»»åŠ¡æŠ¢ä¸åˆ°è®¡ç®—èµ„æºï¼Œå¯¼è‡´å»¶è¿Ÿæ‰§è¡Œã€‚
ç€æ€¥çš„è¯ä¸Šæ¥æ‰‹åŠ¨æ‰§è¡Œä¸€ä¸‹å°±å¥½ã€‚

æ–‡ä¸­å»ºè®®æ”¹ä¸ºæ¯5åˆ†é’Ÿä¸€æ¬¡ï¼Œä½†æ˜¯å¦‚æœè¿™æ ·çš„è¯ä¼šè¶…å‡ºæ¯æœˆçš„å…è´¹å¯ç”¨é¢åº¦ã€‚å¦‚æœæ‚¨æ€¥åˆ‡çš„æƒ³åŒæ­¥æ•°æ®ï¼Œå»ºè®®ä¸Šæ¥æ‰‹åŠ¨æ“ä½œä¸€ä¸‹ã€‚

ç¿»è¯‘ï¼š
>
> æ¬¢è¿æ¥åˆ° GitHub
> æ”¯æŒç¤¾åŒºï¼è®¡åˆ’çš„æ“ä½œå·¥ä½œæµä»¥å°½åŠ›è€Œä¸ºçš„ç­–ç•¥è¿è¡Œã€‚å½“æ‚¨çš„è®¡åˆ’åˆ°æœŸæ—¶ï¼Œæ‚¨çš„å·¥ä½œæµå°†æ·»åŠ åˆ°æ± ä¸­å¹¶åœ¨èµ„æºå¯ç”¨æ—¶è¿è¡Œã€‚è¿™æ„å‘³ç€æ‚¨å¯èƒ½ä¼šçœ‹åˆ°ä¸æ‚¨çš„è®¡åˆ’æ—¶é—´å’Œå·¥ä½œæµè¿è¡Œçš„å®é™…æ—¶é—´ç›¸æ¯”æœ‰æ‰€å»¶è¿Ÿï¼Œå°½ç®¡è¿™å¯èƒ½ä¼šå¯¼è‡´æ›´é•¿çš„å»¶è¿Ÿï¼Œå…·ä½“å–å†³äºå½“æ—¶å¯ç”¨çš„èµ„æºã€‚
> æ‚¨å¯ä»¥å®‰æ’å·¥ä½œæµè¿è¡Œçš„æœ€çŸ­æ—¶é—´ä¸ºæ¯ 5 åˆ†é’Ÿä¸€æ¬¡ã€‚ç”±äºè¿™ç§æ± åŒ–ï¼Œå¦‚æœåœ¨æ‚¨çš„ä¸‹ä¸€ä¸ªè®¡åˆ’è®¾ç½®ä¸ºè¿è¡Œæ—¶ï¼Œæ± ä¸­å·²ç»æœ‰è¿è¡Œç­‰å¾…ï¼Œæ‚¨å¯èƒ½ä¼šçœ‹åˆ°è¿è¡Œè¢«â€œè·³è¿‡â€ã€‚
> å·¥ç¨‹å›¢é˜Ÿæ­£åœ¨ç ”ç©¶æé«˜è°ƒåº¦çš„å¯ç”¨æ€§ã€æ‰©å±•æ€§å’Œå“åº”æ—¶é—´ï¼Œä½†å¦‚æœæ‚¨éœ€è¦ç²¾ç¡®çš„è°ƒåº¦æ“ä½œï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½ä¼šæ›´å¥½åœ°å¯»æ‰¾æ›¿ä»£è§£å†³æ–¹æ¡ˆï¼Œä¾‹å¦‚åœ¨æ‚¨è‡ªå·±çš„
> VPS ä¸Šè¿è¡Œ cronã€‚
>

##### éœ€è¦æ¯å¤©éƒ½æ¥åŒæ­¥æ•°æ®å—ï¼Ÿ

ä¸ç”¨ã€‚ä¸Šé¢çš„æ­¥éª¤æ‰§è¡Œè¿‡åï¼ŒMIGRATEæ‰‹åŠ¨è¿ç§»å·²æœ‰æ•°æ®ï¼Œå†æœ‰æ–°è·‘çš„æ•°æ®ä¼šåœ¨SYNCä¸­å¤§çº¦æ¯20åˆ†é’Ÿå·¦å³è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡æ•°æ®

##### ä¿®æ”¹è‡ªåŠ¨åŒæ­¥çš„é¢‘ç‡

å½“å‰ä¸º `*/10 * * * *` æ¯ 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡

æ‚¨å¯ä»¥æŒ‰éœ€ä¿®æ”¹ï¼Œ å‚è€ƒç½‘å€ [https://crontab.guru/examples.html](https://crontab.guru/examples.html)

åˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„ï¼š

æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š `0 * * * *`

æ¯6å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š `0 */6 * * *`

æ¯12å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š `0 */12 * * *`

æŒ‰æ‚¨éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ï¼š
- ä¸­å›½åŒºåŒæ­¥å›½é™…åŒºï¼š `sync_garmin_cn_to_garmin_global.yml`
- å›½é™…åŒºåŒæ­¥ä¸­å›½åŒºï¼š `sync_garmin_global_to_garmin_cn.yml`


![update_code](./assets/cron.png)

##### åŒæ­¥æœ€æ–°çš„ä»£ç åº“(æ›´æ–°ä»£ç )
ä»£ç å¯èƒ½æœ‰ä¼˜åŒ–æ›´æ–°ï¼Œå¦‚çœ‹åˆ°ä¸‹å›¾çš„æƒ…å†µï¼Œè¯·ç‚¹å‡»ä¸‹å›¾çº¢æ¡†æ›´æ–°åˆ°æœ€æ–°çš„ä»£ç 
![update_code](./assets/update_code.jpg)

##### æ”¶åˆ°`Github`æ‰§è¡Œå¤±è´¥çš„é‚®ä»¶
ä½³æ˜æ¥å£å¶å°”æŠ½é£å¯¼è‡´å¤±è´¥ï¼Œä¸ç”¨ç®¡ã€‚
![action_failed](./assets/action_failed.png)

##### æ”¶åˆ°æ¥è‡ªä½³æ˜ç™»å½•æé†’çš„é‚®ä»¶
æœ¬å·¥å…·åŸç†ä¸ºæ¨¡æ‹Ÿç”¨æˆ·ç™»å½•è¿›è¡Œä¸‹è½½ã€ä¸Šä¼ æ“ä½œï¼Œæ­£å¸¸ï¼Œæ— éœ€ç†ä¼šã€‚
![action_failed](./assets/login_email.png)

##### å…³é—­è‡ªåŠ¨åŒæ­¥
å¦‚å›¾æ“ä½œå³å¯
![disable_sync](./assets/disable_sync.png)


## æ•°æ®åŒæ­¥åˆ°ä½³æ˜å›½é™…åŒºåï¼Œå…¶ä»–çš„ä¸€äº›å¯å…³è”çš„è¿åŠ¨åˆ†æå¹³å°

[https://intervals.icu/ ï¼ˆå¼ºçƒˆæ¨èï¼ï¼ï¼‰](https://intervals.icu/)

[https://app.trainingpeaks.com/#home](https://app.trainingpeaks.com/#home)

[https://runalyze.com/dashboard](https://runalyze.com/dashboard)


## åŒæ­¥åˆ°ä½³æ˜å›½é™…åŒºï¼ŒåŒæ­¥Strava

![garmin_global](./assets/garmin_global.png)
![strava](./assets/strava.png)

## é‡‡é›†RQæ•°æ®æ•™ç¨‹ï¼š

ç‚¹å‡»è·³è½¬ï¼š[RQæ•°æ®é‡‡é›†åˆ°GoogleSheetsæ•™ç¨‹](RQ_GoogleSheets.md)

## TODO

- [x] é‡‡é›†RQç»Ÿè®¡æ•°æ®åˆ°Googleè¡¨æ ¼
- [x] ä¸€æ¬¡æ€§æ‰¹é‡è¿ç§»å·²æœ‰æ´»åŠ¨æ•°æ®åˆ°å›½é™…åŒº
- [x] è‡ªåŠ¨åŒæ­¥æ–°çš„æ´»åŠ¨æ•°æ®åˆ°æ•°æ®åˆ°å›½é™…åŒº
- [x] ä»å›½é™…åŒºåå‘è¿ç§»åŒæ­¥åˆ°ä¸­å›½åŒºåŠŸèƒ½
- [ ] Stravaæ•°æ®å¯¼å‡ºä¸Šä¼ Garmin
- [x] Connect API å¼‚å¸¸å‡ºé”™æ—¶æŠ›å‡º`github actions`é”™è¯¯ï¼Œé¿å…å†…éƒ¨è¿è¡Œå¤±è´¥ä½†æ˜¯å¤–éƒ¨æ˜¾ç¤ºæˆåŠŸçš„é—®é¢˜ã€‚
- [ ] Dockeræœ¬åœ°éƒ¨ç½²è¿è¡Œç‰ˆæœ¬ï¼Œä¸ä¾èµ–GitHub Actionï¼Œé¿å…è‡ªåŠ¨è¿è¡Œé—´éš”ä¸å›ºå®šçš„é—®é¢˜ã€‚
- [ ] WebUI ç®¡ç†åŒæ­¥åŠè¿ç§»ä»»åŠ¡
- [ ] ä¹³é…¸é˜ˆå€¼é•¿æœŸè¶‹åŠ¿è¯»å–ä¸åˆ†æé¡µé¢
  - å‚è€ƒå¸–å­ https://www.reddit.com/r/Garmin/comments/x2mad3/lactate_threshold_accuracy_test_from_052019_to/
- [ ] å›½é™…åŒºä¸ä¸­å›½åŒºè·¯çº¿ã€è®­ç»ƒè¯¾ç¨‹åŒæ­¥
  - api:
    - è·å–æ‰€æœ‰è·¯çº¿ï¼š https://connect.garmin.com/web-gateway/course/owner
      ```js   
         {
            "coursesForUser" : []
         }
      ```
    - è·¯çº¿è¯¦æƒ… https://connect.garmin.com/course-service/course/{id}
    - ä¸‹è½½GPX https://connect.garmin.com/course-service/course/gpx/{id}
    - å¯¼å…¥GPX https://connect.garmin.com/modern/proxy/course-service/course/import
    - ä¸Šä¼ è¯¾ç¨‹ï¼Œå¯ä»¥ç›´æ¥ç”¨ è·¯çº¿è¯¦æƒ…çš„å“åº”æ•°æ®ï¼Œä¼˜å…ˆæµ‹è¯•æ­¤æ–¹æ³•ã€‚  POST https://connect.garmin.com/course-service/course/

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=gooin/DailySync&type=Date)](https://star-history.com/#gooin/DailySync&Date)

## Buy Me a Coffee

å¦‚æœä½ è§‰å¾—æˆ‘çš„å·¥ä½œå¸®åˆ°äº†ä½ ï¼Œå¯èµ äºˆæˆ‘ä¸€æ¯å’–å•¡ï¼Œæ„Ÿè°¢~
![wechat](./assets/wechat.jpg)

### æ”¯æŒè€…è®°å½•

|     å§“å     | é‡‘é¢(ï¿¥) |
|:----------:|:-----:|
| Monk****IN |  50   |
|   Cl**N    |  50   |
|   ç„¡æ•µ**å    |  50   |
|     *å¼Ÿ     |  50   |
|   S**en    |  66   |
|    C**2    | 8.88  |
|    æ˜Ÿ**çƒ‚    |  30   |
|    æ*ç‰›     |  15   |
|     ç‹¼*     | 16.18 |
|     åˆ˜      |  50   |
|    A*w     |  50   |
|     *æ˜±     |  20   |
|     *ä»”     | 8.88  |
|     *é£     |  50   |
|    ZKY     |  50   |
|    L**n    |  40   |
|    å¾®**ç§»    |  25   |
|     *å®«     |  100  |
|    æ— **ç©º    |  50   |
|    è§£*n     |  30   |
|     *äº®     |  15   |
|    lr*s    |  50   |
|    S*e     |  8.8  |
`
